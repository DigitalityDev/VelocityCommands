plugins {
    id "java"
    id "com.github.johnrengelman.shadow" version "8.1.1"
}

group = "dev.digitality"
version = "1.0.0"
description = "VelocityCommands"

repositories {
    mavenCentral()

    maven {
        url = "https://repo.papermc.io/repository/maven-public/"
    }
}

dependencies {
    compileOnly "com.velocitypowered:velocity-api:3.1.1"
    implementation "net.md-5:bungeecord-config:1.16-R0.4"
    implementation "net.kyori:text-serializer-gson:1.2.0"
    implementation "net.kyori:adventure-text-minimessage:4.14.0"

    compileOnly "org.projectlombok:lombok:1.18.22"
    annotationProcessor "org.projectlombok:lombok:1.18.22"
    annotationProcessor "com.velocitypowered:velocity-api:3.1.1"
}

shadowJar {
    minimize()

    archiveFileName = "VelocityCommands.jar"
}

processResources {
    def props = [version: version]
    inputs.properties props
    filteringCharset "UTF-8"
    filesMatching("plugin.yml") {
        expand props
    }
}

compileJava.options.encoding = "UTF-8"
sourceCompatibility = JavaVersion.VERSION_16
targetCompatibility = JavaVersion.VERSION_16
